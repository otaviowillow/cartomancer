<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Cartomancer</title>
  <meta name="description" content="Let's play">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="battle.css">
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

  <body class="battle">
    <div id="battle">
      <div class="cards-view">
        <button v-on="click: startBattle">Start!</button>
        <ul class="trumps">
          <li v-repeat="trump in trumps | filterBy 'The High Pries' in 'name'">
            <h2>{{trump.name}}</h2>

            <ul>
              <li v-repeat="trump.fates.yellow | filterBy 'battle' in 'type'">
                <p>{{name}}</p>
                <p>{{description}}</p>
                <p v-repeat="effects" v-on="click: assembleEffects">
                  <strong>type: </strong>{{type}}
                  <strong>target: </strong>{{target}}
                  <strong>trigger: </strong>{{trigger}}
                  <strong>duration: </strong>{{duration}}
                  <strong>proc: </strong>{{proc}}
                  <p v-repeat="modifier"></p>
                </p>
              </li>

              <li v-repeat="trump.fates.blue | filterBy 'battle' in 'type'">
                <p>{{name}}</p>
                <p>{{description}}</p>
                <p v-repeat="effects" v-on="click: assembleEffects">
                  <strong>type: </strong>{{type}}
                  <strong>target: </strong>{{target}}
                  <strong>trigger: </strong>{{trigger}}
                  <strong>duration: </strong>{{duration}}
                  <strong>proc: </strong>{{proc}}
                  <p v-repeat="modifier"></p>
                </p>
              </li>

              <li v-repeat="trump.fates.other | filterBy 'battle' in 'type'">
                <p>{{name}}</p>
                <p>{{description}}</p>
                <p v-repeat="effects" v-on="click: assembleEffects">
                  <strong>type: </strong>{{type}}
                  <strong>target: </strong>{{target}}
                  <strong>trigger: </strong>{{trigger}}
                  <strong>duration: </strong>{{duration}}
                  <strong>proc: </strong>{{proc}}
                  <p v-repeat="modifier"></p>
                </p>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="combat-view">
        <section class="player">
          <h1>{{player.name}}</h1>
          <h2>{{player.currentHealth}}<strong v-if="player.shield > 0"> + {{player.shield}}</strong></h2> 
          <h3>{{player.attack.base}} ({{player.attack.min}} - {{player.attack.max}})</h3>
        </section>

        <section class="monster" v-on="click: battle" v-if="monster.currentHealth > 0">
          <h1>{{monster.name}}</h1>
          <h2>{{monster.currentHealth}}</h2> 
          <h3>{{monster.attack.base}} ({{monster.attack.min}} - {{monster.attack.max}})</h3>
        </section>
      </div>      
    </div>
  </div>

  <script src="js/jquery.js"></script>
  <script src="js/vue.js"></script>
  <script src="js/battle.js"></script>
</body>
</html>